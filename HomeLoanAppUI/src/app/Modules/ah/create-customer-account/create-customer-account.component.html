


<div class="container">
    <h2>Customer Account Form</h2>

    <div class="progress">
        <div class="progress-bar progress-bar-striped" [style.width.%]="progressPercentage" role="progressbar"
            [attr.aria-valuenow]="progressPercentage" aria-valuemin="0" aria-valuemax="100">{{ step }} of 9
        </div>
    </div>
    <form [formGroup]="customerForm">
        <div *ngIf="step==1">
            <h3>Customer Details</h3>


            <div class="form-group">

                <div class="form-group">
                    <label for="customerName">Customer Name:</label>
                    <input type="text" class="form-control" id="customerName" formControlName="customerName"
                        placeholder="Enter customer name">
                </div>

                <div class="form-group">
                    <label for="customerDateOfBirth">Date of Birth:</label>
                    <input type="text" class="form-control" id="customerDateOfBirth"
                        formControlName="customerDateOfBirth" placeholder="Enter date of birth">
                </div>
                <div class="form-group">
                    <label for="gender">Gender:</label>
                    <select class="form-control" id="gender" formControlName="customerGender" required>
                        <option value="">Select gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>
                    <div class="invalid-feedback">Please select a gender.</div>
                </div>
                <div class="form-group">
                    <label for="customerAge">Age:</label>
                    <input type="number" class="form-control" id="customerAge" formControlName="customerAge"
                        placeholder="Enter age">
                </div>
            </div>

            <div class="form-group">
                <div class="form-group">
                    <label for="customerEmail">Email:</label>
                    <input type="email" class="form-control" id="customerEmail" formControlName="customerEmail"
                        placeholder="Enter email">
                </div>


                <div class="form-group">
                    <label for="customerMobileNumber">Mobile Number:</label>
                    <input type="number" class="form-control" id="customerMobileNumber"
                        formControlName="customerMobileNumber" placeholder="Enter mobile number">
                </div>
                <div class="form-group">
                    <label for="customerAdditionalMobileNumber">Additional Mobile Number:</label>
                    <input type="number" class="form-control" id="customerAdditionalMobileNumber"
                        formControlName="customerAdditionalMobileNumber" placeholder="Enter additional mobile number">
                </div>
            </div>

            <div class="form-group">


                <div class="form-group">
                    <label for="customerAmountPaidForHome">Amount Paid for Home:</label>
                    <input type="number" class="form-control" id="customerAmountPaidForHome"
                        formControlName="customerAmountPaidForHome" placeholder="Enter amount paid for home">
                </div>
                <div class="form-group">
                    <label for="customerTotalLoanRequired">Total Loan Required:</label>
                    <input type="number" class="form-control" id="customerTotalLoanRequired"
                        formControlName="customerTotalLoanRequired" placeholder="Enter total loan required">
                </div>
            </div>
            <div formGroupName="educationalInfo">
                <h3>Educational Information</h3>
                <div class="form-group">
                    <label for="higherEducation">Higher Education:</label>
                    <input type="text" class="form-control" id="higherEducation" formControlName="higherEducation"
                        placeholder="Enter higher education">
                </div>
            </div>
        </div>


        <div *ngIf="step==2">
            <div formGroupName="familydependentInfo">
                <h3>Family Dependent Information</h3>
                <div class="form-group">
                    <div class="form-group">
                        <label for="fatherName">Father's Name:</label>
                        <input type="text" class="form-control" id="fatherName" formControlName="fatherName"
                            placeholder="Enter father's name">
                    </div>
                    <div class="form-group">
                        <label for="motherName">Mother's Name:</label>
                        <input type="text" class="form-control" id="motherName" formControlName="motherName"
                            placeholder="Enter mother's name">
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-group">
                        <label for="spouseName">Spouse's Name:</label>
                        <input type="text" class="form-control" id="spouseName" formControlName="spouseName"
                            placeholder="Enter spouse's name">
                    </div>
                    <div class="form-group">
                        <label for="maritalStatus">Marital Status:</label>
                        <select class="form-control" id="maritalStatus" formControlName="maritalStatus">
                            <option value="">Select marital status</option>
                            <option value="single">Single</option>
                            <option value="married">Married</option>
                            <option value="divorced">Divorced</option>
                            <option value="widowed">Widowed</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="dependentMember">Dependent Member:</label>
                    <input type="text" class="form-control" id="dependentMember" formControlName="dependentMember"
                        placeholder="Enter dependent member">
                </div>
                <div class="form-group">
                    <label for="familyIncome">Family Income:</label>
                    <input type="number" class="form-control" id="familyIncome" formControlName="familyIncome"
                        placeholder="Enter family income">
                </div>
                <div class="form-group">

                    <div class="form-group">
                        <label for="noOfFamilyMember">Number of Family Members:</label>
                        <input type="number" class="form-control" id="noOfFamilyMember" formControlName="noOfFamilyMember"
                            placeholder="Enter number of family members">
                    </div>
                    <div class="form-group">
                        <label for="noOfChild">Number of Children:</label>
                        <input type="number" class="form-control" id="noOfChild" formControlName="noOfChild"
                            placeholder="Enter number of children">
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="step==3">
            <div formGroupName="customerAddress">
                <h3>Customer Address Form</h3>
                <div class="form-group">
                    <label for="areaname">Area Name:</label>
                    <input type="text" class="form-control" id="areaname" formControlName="areaname"
                        placeholder="Enter area name">
                </div>
                <div class="form-group">
                    <label for="cityname">City Name:</label>
                    <input type="text" class="form-control" id="cityname" formControlName="cityname"
                        placeholder="Enter city name">
                </div>
                <div class="form-group">
                    <label for="district">District:</label>
                    <input type="text" class="form-control" id="district" formControlName="district"
                        placeholder="Enter district">
                </div>
                <div class="form-group">
                    <label for="state">State:</label>
                    <input type="text" class="form-control" id="state" formControlName="state"
                        placeholder="Enter state">
                </div>
                <div class="form-group">
                    <label for="pincode">Pincode:</label>
                    <input type="number" class="form-control" id="pincode" formControlName="pincode"
                        placeholder="Enter pincode">
                </div>
                <div formGroupName="permanantAddress">
                    <h3>Permanent Address Form</h3>
                    <div class="form-group">

                                    <label for="pincode">Same As Current Address :</label>
                                    <input type="checkbox" (click)="patchvalue()">
                    </div>
                    <div class="form-group">
                        <label for="permanentAreaName">Area Name:</label>
                        <input type="text" class="form-control" id="permanentAreaName" formControlName="areaname"
                            placeholder="Enter area name">
                    </div>
                    <div class="form-group">
                        <label for="permanentCityName">City Name:</label>
                        <input type="text" class="form-control" id="permanentCityName" formControlName="cityname"
                            placeholder="Enter city name">
                    </div>
                    <div class="form-group">
                        <label for="permanentDistrict">District:</label>
                        <input type="text" class="form-control" id="permanentDistrict" formControlName="district"
                            placeholder="Enter district">
                    </div>
                    <div class="form-group">
                        <label for="permanentState">State:</label>
                        <input type="text" class="form-control" id="permanentState" formControlName="state"
                            placeholder="Enter state">
                    </div>
                    <div class="form-group">
                        <label for="permanentPincode">Pincode:</label>
                        <input type="number" class="form-control" id="permanentPincode" formControlName="pincode"
                            placeholder="Enter pincode">
                    </div>
                </div>
            </div>
        </div>

        <div *ngIf="step==4">
            <div formGroupName="profession">
                <h3>Profession Form</h3>
                <div class="form-group">
                    <label for="professiontype">Profession Type:</label>
                    <input type="text" class="form-control" id="professiontype" formControlName="professiontype"
                        placeholder="Enter profession type">
                </div>
                <div class="form-group">
                    <label for="professionsalaryType">Salary Type:</label>
                    <input type="text" class="form-control" id="professionsalaryType"
                        formControlName="professionsalaryType" placeholder="Enter salary type">
                </div>
                <div class="form-group">
                    <label for="professionworkingperiod">Working Period:</label>
                    <input type="text" class="form-control" id="professionworkingperiod"
                        formControlName="professionworkingperiod" placeholder="Enter working period">
                </div>
                <div class="form-group">
                    <label for="professionDesignation">Designation:</label>
                    <input type="text" class="form-control" id="professionDesignation"
                        formControlName="professionDesignation" placeholder="Enter designation">
                </div>
                <div class="form-group">
                    <label for="professionsalary">Salary:</label>
                    <input type="number" class="form-control" id="professionsalary" formControlName="professionsalary"
                        placeholder="Enter salary">
                </div>
                <div class="form-group">
                    <label for="professionsalaryslips">Salary Slips:</label>
                    <input type="file" class="form-control-file" (change)="onProfessionSalarySlips($event)"
                        id="professionsalaryslips">
                </div>
            </div>
        </div>


        <div *ngIf="step==5">
            <div formGroupName="mortgageDetails">
                <h3>Mortgage Details Form</h3>
                <div class="form-group">
                    <label for="mortgagePropertyValue">Property Value:</label>
                    <input type="number" class="form-control" id="mortgagePropertyValue"
                        formControlName="mortgagePropertyValue" placeholder="Enter property value">
                </div>
                <div class="form-group">
                    <label for="mortgageLoanOnProperty">Loan on Property:</label>
                    <input type="number" class="form-control" id="mortgageLoanOnProperty"
                        formControlName="mortgageLoanOnProperty" placeholder="Enter loan on property">
                </div>
                <div class="form-group">
                    <label for="mortgagePropertyType">Property Type:</label>
                    <input type="text" class="form-control" id="mortgagePropertyType"
                        formControlName="mortgagePropertyType" placeholder="Enter property type">
                </div>
                <div class="form-group">
                    <label for="mortgagePropertyProof">Property Proof:</label>
                    <input type="file" class="form-control-file" id="mortgagePropertyProof"
                        (change)="onPropertyProofChange($event)">
                </div>
                <div class="form-group">
                    <label for="mortgagePropertyInsurance">Property Insurance:</label>
                    <input type="file" class="form-control-file" id="mortgagePropertyInsurance"
                        (change)="onPropertyInsuranceChange($event)">
                </div>
            </div>
        </div>

        <div *ngIf="step==6">
            <div formGroupName="currentloandetails">
                <h3>Current Loan Details Form</h3>
                <div class="form-group">
                    <label for="currentloanNo">Loan Number:</label>
                    <input type="number" class="form-control" id="currentloanNo" formControlName="currentloanNo"
                        placeholder="Enter loan number">
                </div>
                <div class="form-group">
                    <label for="tenure">Tenure:</label>
                    <input type="number" class="form-control" id="tenure" formControlName="tenure"
                        placeholder="Enter tenure">
                </div>
                <div class="form-group">
                    <label for="totalAmounttobepaid">Total Amount to be Paid:</label>
                    <input type="number" class="form-control" id="totalAmounttobepaid"
                        formControlName="totalAmounttobepaid" placeholder="Enter total amount to be paid">
                </div>
                <div class="form-group">
                    <label for="rateOfInterest">Rate of Interest:</label>
                    <input type="number" class="form-control" id="rateOfInterest" formControlName="rateOfInterest"
                        placeholder="Enter rate of interest">
                </div>
                <div class="form-group">
                    <label for="totalInterest">Total Interest:</label>
                    <input type="number" class="form-control" id="totalInterest" formControlName="totalInterest"
                        placeholder="Enter total interest">
                </div>
                <div class="form-group">
                    <label for="sanctionDate">Sanction Date:</label>
                    <input type="text" class="form-control" id="sanctionDate" formControlName="sanctionDate"
                        placeholder="Enter sanction date">
                </div>
                <div class="form-group">
                    <label for="remark">Remark:</label>
                    <input type="text" class="form-control" id="remark" formControlName="remark"
                        placeholder="Enter remark">
                </div>
                <div class="form-group">
                    <label for="status">Status:</label>
                    <input type="text" class="form-control" id="status" formControlName="status"
                        placeholder="Enter status">
                </div>
                <div formArrayName="emiDetails">
                    <div *ngFor="let emiGroup of emiDetails.controls; let i = index" [formGroupName]="i">
                      <h3>EMI Details Form {{ i + 1 }}</h3>
                      <div class="form-group">
                        <label for="nextEmiDueDate">Next EMI Due Date:</label>
                        <input type="text" class="form-control" id="nextEmiDueDate" formControlName="nextEmiDueDate"
                          placeholder="Enter next EMI due date">
                      </div>
                      <div class="form-group">
                        <label for="previousEmiStatus">Previous EMI Status:</label>
                        <input type="text" class="form-control" id="previousEmiStatus" formControlName="previousEmiStatus"
                          placeholder="Enter previous EMI status">
                      </div>
                      <div class="form-group">
                        <label for="emiAmountMonthly">EMI Amount Monthly:</label>
                        <input type="number" class="form-control" id="emiAmountMonthly" formControlName="emiAmountMonthly"
                          placeholder="Enter EMI amount monthly">
                      </div>
                    </div>
                  </div>
            </div>
        </div>

        <div *ngIf="step==7">
            <div formGroupName="previousloan">
                <h3>Previous Loan Form</h3>
                <div class="form-group">
                    <label for="previousLoanAmount">Loan Amount:</label>
                    <input type="number" class="form-control" id="previousLoanAmount"
                        formControlName="previousLoanAmount" placeholder="Enter loan amount">
                </div>
                <div class="form-group">
                    <label for="previousLoanpaidAmount">Paid Amount:</label>
                    <input type="number" class="form-control" id="previousLoanpaidAmount"
                        formControlName="previousLoanpaidAmount" placeholder="Enter paid amount">
                </div>
                <div class="form-group">
                    <label for="previousLoanremainingAmount">Remaining Amount:</label>
                    <input type="number" class="form-control" id="previousLoanremainingAmount"
                        formControlName="previousLoanremainingAmount" placeholder="Enter remaining amount">
                </div>
                <div class="form-group">
                    <label for="previousLoanTenure">Tenure:</label>
                    <input type="number" class="form-control" id="previousLoanTenure"
                        formControlName="previousLoanTenure" placeholder="Enter tenure">
                </div>
                <div class="form-group">
                    <label for="previousLoandeafulterCount">Defaulter Count:</label>
                    <input type="number" class="form-control" id="previousLoandeafulterCount"
                        formControlName="previousLoandeafulterCount" placeholder="Enter default count">
                </div>
                <div class="form-group">
                    <label for="previousLoanStatus">Status:</label>
                    <input type="text" class="form-control" id="previousLoanStatus" formControlName="previousLoanStatus"
                        placeholder="Enter status">
                </div>
                <div class="form-group">
                    <label for="previousLoanRemark">Remark:</label>
                    <input type="text" class="form-control" id="previousLoanRemark" formControlName="previousLoanRemark"
                        placeholder="Enter remark">
                </div>
            </div>
        </div>


        <div *ngIf="step==8">
            <div formGroupName="accountdetails">
                <h3>Account Details</h3>

                <div class="form-group">
                    <label for="bankname">Bank Name:</label>
                    <input type="text" id="bankname" class="form-control" formControlName="bankname">
                </div>
                <div class="form-group">
                    <label for="ifsc">IFSC Code:</label>
                    <input type="text" id="bankname" class="form-control" formControlName="ifsc">
                </div>
                <div class="form-group">
                    <label for="accountHolderName">Account Holder Name:</label>
                    <input type="text" id="accountHolderName" class="form-control" formControlName="accountHolderName">
                </div>
                <div class="form-group">
                    <label for="accountType">Account Type:</label>
                    <input type="text" id="accountType" class="form-control" formControlName="accountType">
                </div>
                <div class="form-group">
                    <label for="accountStatus">Account Status:</label>
                    <input type="text" id="accountStatus" class="form-control" formControlName="accountStatus">
                </div>

                <div class="form-group">
                    <label for="accountBalance">Account Balance:</label>
                    <input type="number" id="accountBalance" class="form-control" formControlName="accountBalance">
                </div>
                <div class="form-group">
                    <label for="accountNumber">Account Number:</label>
                    <input type="number" id="accountNumber" class="form-control" formControlName="accountNumber">
                </div>
            </div>
        </div>






        <div *ngIf="step==9">
            <div formGroupName="gurantordetails">
                <h3>Gurentor Information</h3>
                <div class="form-group">
                    <label for="guarantorName">Guarantor Name:</label>
                    <input type="text" id="guarantorName" class="form-control" formControlName="guarantorName">
                </div>
                <div class="form-group">
                    <label for="guarantorDateOfBirth">Guarantor Date of Birth:</label>
                    <input type="date" id="guarantorDateOfBirth" class="form-control"
                        formControlName="guarantorDateOfBirth">
                </div>
                <div class="form-group">
                    <label for="guarantorRelationshipwithCustomer">Guarantor Relationship with Customer:</label>
                    <input type="text" id="guarantorRelationshipwithCustomer" class="form-control"
                        formControlName="guarantorRelationshipwithCustomer">
                </div>
                <div class="form-group">
                    <label for="guarantorMobileNumber">Guarantor Mobile Number:</label>
                    <input type="number" id="guarantorMobileNumber" class="form-control"
                        formControlName="guarantorMobileNumber">
                </div>
                <div class="form-group">
                    <label for="guarantorAdharCardNo">Guarantor Adhar Card No:</label>
                    <input type="number" id="guarantorAdharCardNo" class="form-control"
                        formControlName="guarantorAdharCardNo">
                </div>


            </div>
        </div>



        <!-- Add other form fields for related entities here -->
        <button class="button" *ngIf="step !=1" (click)="previous()">Previous</button>
        <button class="button ms-3" *ngIf="step !=10" (click)="next()">Next</button>
        <button type="submit" (click)="onSubmit()" *ngIf="step==9" class="button ms-3">Submit</button>
    </form>
</div>